<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>DV Flow LibHDLSim &#8212; DV Flow LibHDLSim  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="dv-flow-libhdlsim">
<h1><a class="toc-backref" href="#id22" role="doc-backlink">DV Flow LibHDLSim</a><a class="headerlink" href="#dv-flow-libhdlsim" title="Link to this heading">¶</a></h1>
<p>LibHDLSim is a DV-Flow library that provides tasks for working with HDL simulators.
The library defines a set of tasks for compiling, elaborating, and running
HDL simulators, as well as specific implementations for a variety of simulators.</p>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#dv-flow-libhdlsim" id="id22">DV Flow LibHDLSim</a></p>
<ul>
<li><p><a class="reference internal" href="#task-simlib" id="id23">Task: SimLib</a></p></li>
<li><p><a class="reference internal" href="#task-simlibuvm" id="id24">Task: SimLibUVM</a></p></li>
<li><p><a class="reference internal" href="#task-simlibdpi" id="id25">Task: SimLibDPI</a></p></li>
<li><p><a class="reference internal" href="#task-simlibvpi" id="id26">Task: SimLibVPI</a></p></li>
<li><p><a class="reference internal" href="#task-simimage" id="id27">Task: SimImage</a></p></li>
<li><p><a class="reference internal" href="#task-simrun" id="id28">Task: SimRun</a></p></li>
<li><p><a class="reference internal" href="#type-simcompileargs" id="id29">Type: SimCompileArgs</a></p></li>
<li><p><a class="reference internal" href="#type-simelabargs" id="id30">Type: SimElabArgs</a></p></li>
<li><p><a class="reference internal" href="#type-simrunargs" id="id31">Type: SimRunArgs</a></p></li>
<li><p><a class="reference internal" href="#simulator-support" id="id32">Simulator Support</a></p></li>
<li><p><a class="reference internal" href="#feature-support-matrix" id="id33">Feature support matrix</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="task-simlib">
<h2><a class="toc-backref" href="#id23" role="doc-backlink">Task: SimLib</a><a class="headerlink" href="#task-simlib" title="Link to this heading">¶</a></h2>
<p>The SimLib task compiles HDL source into a pre-compiled library. If a specific
toolchain does not support the notion of a pre-compiled library, the task
propagates the input sources</p>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h3>
<p>… code-block:: yaml</p>
<blockquote>
<div><dl>
<dt>package:</dt><dd><p>name: lib_example</p>
<dl>
<dt>tasks:</dt><dd><ul>
<li><p>name: inc
uses: std.FileSet
with:</p>
<blockquote>
<div><p>type: verilogIncDir
include: “include”</p>
</div></blockquote>
</li>
<li><p>name: rtl
uses: std.FileSet
with:</p>
<blockquote>
<div><p>type: systemVerilogSource
include: “<a href="#id1"><span class="problematic" id="id2">*</span></a>.sv”</p>
</div></blockquote>
</li>
<li><p>name: lib
uses: hdlsim.vlt.SimLib
with:</p>
<blockquote>
<div><p>libname: work</p>
</div></blockquote>
<p>needs: [rtl, inc]</p>
</li>
<li><p>name: sim-image
uses: hdlsim.vlt.SimImage
with:</p>
<blockquote>
<div><p>top: [top]</p>
</div></blockquote>
<p>needs: [lib]</p>
</li>
</ul>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</section>
<section id="consumes">
<h3>Consumes<a class="headerlink" href="#consumes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>simLib</p></li>
<li><p>systemVerilogSource</p></li>
<li><p>verilogIncDir</p></li>
<li><p>verilogSource</p></li>
<li><p>hdlsim.SimCompileArgs</p></li>
</ul>
</section>
<section id="produces">
<h3>Produces<a class="headerlink" href="#produces" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>simLib</p></li>
</ul>
</section>
<section id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>libname</strong> - [Optional] Specifies the logical name of the library.</p></li>
<li><p><strong>incdirs</strong> - [Optional] List of extra include directories</p></li>
<li><p><strong>defines</strong> - [Optional] List of extra defines</p></li>
</ul>
</section>
</section>
<section id="task-simlibuvm">
<h2><a class="toc-backref" href="#id24" role="doc-backlink">Task: SimLibUVM</a><a class="headerlink" href="#task-simlibuvm" title="Link to this heading">¶</a></h2>
<p>Most simulators have a built-in mechanism for enabling UVM support. This task
shall implement that mechanism and output appropriate data to support
downstream compilation and elaboration tasks.</p>
</section>
<section id="task-simlibdpi">
<h2><a class="toc-backref" href="#id25" role="doc-backlink">Task: SimLibDPI</a><a class="headerlink" href="#task-simlibdpi" title="Link to this heading">¶</a></h2>
<p>The SimLibDPI task compiles a set of provided C/C++ sources and object files
into a SystemVerilog DPI library using simulator-specific include directories</p>
<section id="id3">
<h3>Example<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
</section>
<section id="id4">
<h3>Consumes<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>cSource</p></li>
<li><p>cppSource</p></li>
</ul>
</section>
<section id="id5">
<h3>Produces<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>systemVerilogDPI</p></li>
</ul>
</section>
<section id="id6">
<h3>Parameters<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>libname</strong> - [Optional] Specifies the base name of the library</p></li>
<li><p><strong>incdirs</strong> - [Optional] List of extra include directories</p></li>
<li><p><strong>defines</strong> - [Optional] List of extra defines</p></li>
</ul>
</section>
</section>
<section id="task-simlibvpi">
<h2><a class="toc-backref" href="#id26" role="doc-backlink">Task: SimLibVPI</a><a class="headerlink" href="#task-simlibvpi" title="Link to this heading">¶</a></h2>
<p>The SimLibVPI task compiles a set of provided C/C++ sources and object files
into a Verilog VPI library using simulator-specific include directories</p>
<section id="id7">
<h3>Example<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
</section>
<section id="id8">
<h3>Consumes<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>cSource</p></li>
<li><p>cppSource</p></li>
</ul>
</section>
<section id="id9">
<h3>Produces<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>verilogVPI</p></li>
</ul>
</section>
<section id="id10">
<h3>Parameters<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>libname</strong> - [Optional] Specifies the base name of the library</p></li>
<li><p><strong>incdirs</strong> - [Optional] List of extra include directories</p></li>
<li><p><strong>defines</strong> - [Optional] List of extra defines</p></li>
</ul>
</section>
</section>
<section id="task-simimage">
<h2><a class="toc-backref" href="#id27" role="doc-backlink">Task: SimImage</a><a class="headerlink" href="#task-simimage" title="Link to this heading">¶</a></h2>
<p>The SimImage task elaborates HDL source and/or precompiled libraries into
an executable simulation image</p>
<section id="id11">
<h3>Example<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
</section>
<section id="id12">
<h3>Consumes<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>cSource</p></li>
<li><p>cppSource</p></li>
<li><p>simLib</p></li>
<li><p>systemVerilogSource</p></li>
<li><p>verilogIncDir</p></li>
<li><p>verilogSource</p></li>
<li><p>systemVerilogDPI</p></li>
<li><p>verilogVPI</p></li>
<li><p>hdlsim.SimCompileArgs</p></li>
<li><p>hdlsim.SimElabArgs</p></li>
</ul>
</section>
<section id="id13">
<h3>Produces<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>simDir</p></li>
</ul>
</section>
<section id="id14">
<h3>Parameters<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>top</strong> - [Required] List of top module names</p></li>
<li><p><strong>args</strong> - [Optional] List of extra arguments to pass to the compilation and elaboration commands</p></li>
<li><p><strong>compargs</strong> - [Optional] List of extra arguments to pass to the compilation commands</p></li>
<li><p><strong>elabargs</strong> - [Optional] List of extra arguments to pass to the elaboration command</p></li>
<li><p><strong>vpilibs</strong> - [Optional] List of VPI library paths to specify to the elaboration command</p></li>
<li><p><strong>dpilibs</strong> - [Optional] List of DPI library paths to specify to the elaboration command</p></li>
<li><p><strong>incdirs</strong> - [Optional] List of extra include directories</p></li>
<li><p><strong>defines</strong> - [Optional] List of extra defines</p></li>
</ul>
</section>
</section>
<section id="task-simrun">
<h2><a class="toc-backref" href="#id28" role="doc-backlink">Task: SimRun</a><a class="headerlink" href="#task-simrun" title="Link to this heading">¶</a></h2>
<p>The SimRun task executes an elaborated simulation image.</p>
<section id="id15">
<h3>Example<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h3>
</section>
<section id="id16">
<h3>Consumes<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>simDir</p></li>
<li><p>systemVerilogDPI</p></li>
<li><p>verilogVPI</p></li>
<li><p>hdlsim.SimRunArgs</p></li>
<li><p>simRunData – Files to copy to the run directory</p></li>
</ul>
</section>
<section id="id17">
<h3>Produces<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>simRunDir</p></li>
</ul>
</section>
<section id="id18">
<h3>Parameters<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>args</strong> - [Optional] List of simulation run command arguments</p></li>
<li><p><strong>plusargs</strong> - [Optional] List of extra include directories</p></li>
</ul>
</section>
</section>
<section id="type-simcompileargs">
<h2><a class="toc-backref" href="#id29" role="doc-backlink">Type: SimCompileArgs</a><a class="headerlink" href="#type-simcompileargs" title="Link to this heading">¶</a></h2>
<p>The SimCompileArgs type can be used to provide dataflow compilation arguments.</p>
<section id="id19">
<h3>Parameters<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>args</strong> - [Optional] List of extra arguments to pass to the compilation command</p></li>
<li><p><strong>incdirs</strong> - [Optional] List of include directories</p></li>
<li><p><strong>defines</strong> - [Optional] List of defines</p></li>
</ul>
</section>
</section>
<section id="type-simelabargs">
<h2><a class="toc-backref" href="#id30" role="doc-backlink">Type: SimElabArgs</a><a class="headerlink" href="#type-simelabargs" title="Link to this heading">¶</a></h2>
<p>The SimElabArgs type can be used to provide dataflow elaboration arguments.</p>
<section id="id20">
<h3>Parameters<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>args</strong> - [Optional] List of extra arguments to pass to the compilation command</p></li>
<li><p><strong>dpilibs</strong> - [Optional] List of DPI libraries</p></li>
<li><p><strong>vpilibs</strong> - [Optional] List of VPI libraries</p></li>
</ul>
</section>
</section>
<section id="type-simrunargs">
<h2><a class="toc-backref" href="#id31" role="doc-backlink">Type: SimRunArgs</a><a class="headerlink" href="#type-simrunargs" title="Link to this heading">¶</a></h2>
<p>The SimRunArgs type can be used to provide dataflow run arguments.</p>
<section id="id21">
<h3>Parameters<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><strong>args</strong> - [Optional] List of extra arguments to pass to the simulation run</p></li>
<li><p><strong>plusargs</strong> - [Optional] List of plusargs to pass to the simulation run</p></li>
<li><p><strong>dpilibs</strong> - [Optional] List of DPI libraries</p></li>
<li><p><strong>vpilibs</strong> - [Optional] List of VPI libraries</p></li>
</ul>
</section>
</section>
<section id="simulator-support">
<h2><a class="toc-backref" href="#id32" role="doc-backlink">Simulator Support</a><a class="headerlink" href="#simulator-support" title="Link to this heading">¶</a></h2>
<p>Tasks that support specific simulators are implemented in simulator-specific packages.
The tasks defined in these packages implement the same interface as the generic tasks.
For example, the full name of the <cite>VCS</cite> SimImage task is <cite>hdlsim.vcs.SimImage</cite>.</p>
<ul class="simple">
<li><p><strong>ivl</strong> - Icarus Verilog</p></li>
<li><p><strong>mti</strong> - Siemens Questa Sim</p></li>
<li><p><strong>vcs</strong> - Synopsys VCS</p></li>
<li><p><strong>vlt</strong> - Verilator</p></li>
<li><p><strong>xcm</strong> - Cadence Xcelium</p></li>
<li><p><strong>xsm</strong> - AMD Xilinx Vivado (XSim)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All trademarks are the property of their respective owners</p>
</div>
</section>
<section id="feature-support-matrix">
<h2><a class="toc-backref" href="#id33" role="doc-backlink">Feature support matrix</a><a class="headerlink" href="#feature-support-matrix" title="Link to this heading">¶</a></h2>
<p>The following summarizes supported features by simulator package, based on the current implementation.</p>
<section id="ivl-icarus-verilog">
<h3>ivl (Icarus Verilog)<a class="headerlink" href="#ivl-icarus-verilog" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>DPI: Not supported (SimRun errors if dpilibs provided)</p></li>
<li><p>VPI: Not supported</p></li>
<li><p>Trace: Not exposed</p></li>
<li><p>Valgrind: Not exposed</p></li>
<li><p>Incremental compile: Yes (file-dependency cache/memento)</p></li>
<li><p>Special parameters: None</p></li>
</ul>
</section>
<section id="vlt-verilator">
<h3>vlt (Verilator)<a class="headerlink" href="#vlt-verilator" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>DPI: Supported (link prebuilt libraries via -LDFLAGS, and/or compile C sources)</p></li>
<li><p>VPI: Not supported</p></li>
<li><p>Trace: Supported (SimImage –trace; SimRun adds +verilator+debug when trace=true)</p></li>
<li><p>Valgrind: Not exposed</p></li>
<li><p>Incremental compile: Yes (tool reports “Nothing to be done” to skip)</p></li>
<li><p>Special parameters: None</p></li>
</ul>
</section>
<section id="mti-siemens-questa-modelsim">
<h3>mti (Siemens Questa/ModelSim)<a class="headerlink" href="#mti-siemens-questa-modelsim" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>DPI: Supported (compile C sources via vlog; runtime -sv_lib)</p></li>
<li><p>VPI: Supported (runtime -pli)</p></li>
<li><p>Trace: Not currently exposed by tasks</p></li>
<li><p>Valgrind: Supported (-valgrind –tool=memcheck)</p></li>
<li><p>Incremental compile: Yes (vlog -incr; detected via log parsing)</p></li>
<li><p>Special parameters: None</p></li>
</ul>
</section>
<section id="vcs-synopsys-vcs">
<h3>vcs (Synopsys VCS)<a class="headerlink" href="#vcs-synopsys-vcs" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>DPI: Not supported by SimImage (building); runtime load of prebuilt libs via -sv_lib supported in SimRun</p></li>
<li><p>VPI: Supported (+vpi/-debug_access and -load &lt;lib&gt;)</p></li>
<li><p>Trace: Not currently exposed by tasks</p></li>
<li><p>Valgrind: Not exposed</p></li>
<li><p>Incremental compile: Yes (vlogan -incr_vlogan; detected via log parsing)</p></li>
<li><p>Special parameters: partcomp (bool), fastpartcomp (int)</p></li>
</ul>
</section>
<section id="xsm-amd-xilinx-xsim">
<h3>xsm (AMD Xilinx XSIM)<a class="headerlink" href="#xsm-amd-xilinx-xsim" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>DPI: Supported (xelab –sv_root/–sv_lib)</p></li>
<li><p>VPI: Not supported</p></li>
<li><p>Trace: Not currently exposed by tasks</p></li>
<li><p>Valgrind: Not exposed</p></li>
<li><p>Incremental compile: Yes (xvlog –incr; detected via log parsing)</p></li>
<li><p>Special parameters: plusargs passed via –testplusarg at runtime</p></li>
</ul>
</section>
<section id="xcm-cadence-xcelium">
<h3>xcm (Cadence Xcelium)<a class="headerlink" href="#xcm-cadence-xcelium" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Status: Experimental/incomplete in this repository; functionality may be outdated</p></li>
<li><p>DPI/VPI/Trace/Valgrind/Incremental: TBD</p></li>
<li><p>Special parameters: TBD</p></li>
</ul>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">DV Flow LibHDLSim</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Matthew Ballance.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>